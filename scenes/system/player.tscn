[gd_scene load_steps=30 format=3 uid="uid://6uqhlg6628o8"]

[ext_resource type="Script" path="res://script/player/player.gd" id="1_sr7nm"]
[ext_resource type="Texture2D" uid="uid://bpbu02blyg7em" path="res://assets/texture/role/model_character.png" id="2_2kfbo"]
[ext_resource type="Script" path="res://script/player/PlayerFSM.gd" id="4_5pgpc"]
[ext_resource type="Script" path="res://script/player/NormalState.gd" id="5_kw5ey"]
[ext_resource type="Script" path="res://script/player/ClimbState.gd" id="6_gdmk5"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wsmg6"]
animation = &"left_idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6cjro"]
animation = &"down_idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_n0wda"]
animation = &"up_idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bfitn"]
animation = &"right_idle"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_nypls"]
blend_point_0/node = SubResource("AnimationNodeAnimation_wsmg6")
blend_point_0/pos = Vector2(-0.9, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_6cjro")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_n0wda")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_bfitn")
blend_point_3/pos = Vector2(0.9, 0)
min_space = Vector2(-0.9, -1)
max_space = Vector2(0.9, 1)
blend_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_j2cjk"]
animation = &"left_walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xs4dt"]
animation = &"down_walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ejpv6"]
animation = &"up_walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iol2y"]
animation = &"right_walk"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_6vl3h"]
blend_point_0/node = SubResource("AnimationNodeAnimation_j2cjk")
blend_point_0/pos = Vector2(-0.9, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_xs4dt")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_ejpv6")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_iol2y")
blend_point_3/pos = Vector2(0.9, 0)
min_space = Vector2(-0.9, -1)
max_space = Vector2(0.9, 1)
blend_mode = 1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_2pi6w"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fpdnc"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xd2tm"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_af1u5"]
states/End/position = Vector2(927, 100)
states/Idle/node = SubResource("AnimationNodeBlendSpace2D_nypls")
states/Idle/position = Vector2(446, 100)
states/Start/position = Vector2(202, 100)
states/Walk/node = SubResource("AnimationNodeBlendSpace2D_6vl3h")
states/Walk/position = Vector2(722, 100)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_2pi6w"), "Idle", "Walk", SubResource("AnimationNodeStateMachineTransition_fpdnc"), "Walk", "Idle", SubResource("AnimationNodeStateMachineTransition_xd2tm")]

[sub_resource type="Animation" id="Animation_c2yro"]
resource_name = "left_idle"
length = 0.1
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}

[sub_resource type="Animation" id="Animation_ofpbh"]
length = 0.4
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [2, 3, 0, 1]
}

[sub_resource type="Animation" id="Animation_8a56m"]
resource_name = "up_idle"
length = 0.1
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [15]
}

[sub_resource type="Animation" id="Animation_4jxwb"]
resource_name = "up_walk"
length = 0.4
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [15, 12, 13, 14]
}

[sub_resource type="Animation" id="Animation_kl30a"]
resource_name = "down_idle"
length = 0.1
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [6]
}

[sub_resource type="Animation" id="Animation_r71fa"]
resource_name = "down_waalk"
length = 0.4
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [6, 7, 4, 5]
}

[sub_resource type="Animation" id="Animation_wnqhf"]
resource_name = "right_idle"
length = 0.1
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [11]
}

[sub_resource type="Animation" id="Animation_v7i2w"]
length = 0.4
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite3D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [11, 8, 9, 10]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xnpjr"]
_data = {
"down_idle": SubResource("Animation_c2yro"),
"down_walk": SubResource("Animation_ofpbh"),
"left_idle": SubResource("Animation_8a56m"),
"left_walk": SubResource("Animation_4jxwb"),
"right_idle": SubResource("Animation_kl30a"),
"right_walk": SubResource("Animation_r71fa"),
"up_idle": SubResource("Animation_wnqhf"),
"up_walk": SubResource("Animation_v7i2w")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_4vu74"]
radius = 0.129754
height = 0.320359

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_sr7nm")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_af1u5")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/Idle/blend_position = Vector2(-0.0678179, 0.295652)
parameters/Walk/blend_position = Vector2(-0.00576001, 1)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
speed_scale = 5.0
libraries = {
"": SubResource("AnimationLibrary_xnpjr")
}

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.134864, 0)
shape = SubResource("CapsuleShape3D_4vu74")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.707107, -0.241845, 0.664463, 0, 0.939693, 0.34202, -0.707107, -0.241845, 0.664463, 10.977, 5.5, 10.977)
projection = 1
current = true
fov = 15.0
size = 25.0
far = 800.0

[node name="PlayerArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="PlayerArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.134864, 0)
shape = SubResource("CapsuleShape3D_4vu74")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]

[node name="PlayerFSM" type="Node" parent="."]
script = ExtResource("4_5pgpc")

[node name="NormalState" type="Node" parent="PlayerFSM"]
unique_name_in_owner = true
script = ExtResource("5_kw5ey")

[node name="ClimbState" type="Node" parent="PlayerFSM"]
unique_name_in_owner = true
script = ExtResource("6_gdmk5")

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(0.707107, -0.264887, 0.655618, -1.86265e-08, 0.927184, 0.374606, -0.707107, -0.264887, 0.655618, 1.74623e-10, 0.136738, 3.49246e-10)
gi_mode = 2
billboard = 1
shaded = true
double_sided = false
texture = ExtResource("2_2kfbo")
hframes = 4
vframes = 6
frame = 2
